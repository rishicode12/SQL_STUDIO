// ==============================================
// _variables.scss
// Design tokens for CipherSQLStudio
// ==============================================

// --- Color Palette ---
// Define both dark and light themes as Sass maps so we can export
// CSS variables at runtime while still keeping static SCSS variables
// available for helper computations during build time.

$dark-colors: (
  bg: #0d0f14,
  surface: #161920,
  surface-2: #1e2330,
  border: #2a2f3d,
  border-light: #363d52,

  primary: #4f9cf9,
  primary-dim: rgba(79, 156, 249, 0.15),
  accent: #7ee8a2,
  accent-dim: rgba(126, 232, 162, 0.12),
  warning: #f5a623,
  error: #f0546e,
  error-dim: rgba(240, 84, 110, 0.12),

  text: #e2e8f0,
  text-muted: #8892a4,
  text-dim: #4a5568,

  easy: #7ee8a2,
  medium: #f5a623,
  hard: #f0546e,
);

$light-colors: (
  bg: #fafafa,
  surface: #ededed,
  surface-2: #ffffff,
  border: #cccccc,
  border-light: #bbbbbb,

  primary: #4f9cf9,
  primary-dim: rgba(79, 156, 249, 0.15),
  accent: #7ee8a2,
  accent-dim: rgba(126, 232, 162, 0.12),
  warning: #f5a623,
  error: #f0546e,
  error-dim: rgba(240, 84, 110, 0.12),

  text: #1a1a1a,
  text-muted: #444444,
  text-dim: #666666,

  easy: #7ee8a2,
  medium: #f5a623,
  hard: #f0546e,
);

// helper to get r,g,b tuple for rgba() helpers
@function rgb-str($color) {
  @return #{red($color)}, #{green($color)}, #{blue($color)};
}

// mixin that exports all colors from a map as CSS custom properties
// and also precomputes a few useful variants (hover/light versions)
@function hover-light($col, $amount) {
  @return lighten($col, $amount);
}

@mixin export-colors($map) {
  @each $name, $val in $map {
    --color-#{$name}: #{$val};
    @if type-of($val) == 'color' {
      --color-#{$name}-rgb: #{rgb-str($val)};
    }

    // common hover variants
    @if ($name == primary) {
      --color-#{$name}-hover: #{hover-light($val, 15%)};
    }
    @if ($name == error) {
      --color-#{$name}-hover: #{hover-light($val, 20%)};
    }
    @if ($name == accent) {
      --color-#{$name}-hover: #{hover-light($val, 8%)};
    }
    @if ($name == warning) {
      --color-#{$name}-hover: #{hover-light($val, 10%)};
    }
  }
}

// export initial dark variables
:root {
  @include export-colors($dark-colors);
}

// light theme overrides
body.light {
  @include export-colors($light-colors);
}

// keep SCSS variables for build-time computations (fallback to dark values)
$color-bg: map-get($dark-colors, bg);
$color-surface: map-get($dark-colors, surface);
$color-surface-2: map-get($dark-colors, surface-2);
$color-border: map-get($dark-colors, border);
$color-border-light: map-get($dark-colors, border-light);
$color-primary: map-get($dark-colors, primary);
$color-primary-dim: map-get($dark-colors, primary-dim);
$color-accent: map-get($dark-colors, accent);
$color-accent-dim: map-get($dark-colors, accent-dim);
$color-warning: map-get($dark-colors, warning);
$color-error: map-get($dark-colors, error);
$color-error-dim: map-get($dark-colors, error-dim);
$color-text: map-get($dark-colors, text);
$color-text-muted: map-get($dark-colors, text-muted);
$color-text-dim: map-get($dark-colors, text-dim);
$color-easy: map-get($dark-colors, easy);
$color-medium: map-get($dark-colors, medium);
$color-hard: map-get($dark-colors, hard);

// --- Typography ---
$font-mono:   'JetBrains Mono', 'Fira Code', 'Cascadia Code', monospace;
$font-display: 'Space Grotesk', 'Inter', sans-serif;
$font-body:    'Inter', -apple-system, BlinkMacSystemFont, sans-serif;

$font-size-xs:   0.75rem;   // 12px
$font-size-sm:   0.875rem;  // 14px
$font-size-base: 1rem;      // 16px
$font-size-md:   1.125rem;  // 18px
$font-size-lg:   1.25rem;   // 20px
$font-size-xl:   1.5rem;    // 24px
$font-size-2xl:  2rem;      // 32px

// --- Spacing ---
$space-1:  0.25rem;
$space-2:  0.5rem;
$space-3:  0.75rem;
$space-4:  1rem;
$space-5:  1.25rem;
$space-6:  1.5rem;
$space-8:  2rem;
$space-10: 2.5rem;
$space-12: 3rem;
$space-16: 4rem;

// --- Breakpoints ---
$bp-mobile:  320px;
$bp-tablet:  641px;
$bp-desktop: 1024px;
$bp-wide:    1281px;

// --- Borders & Radius ---
$radius-sm: 4px;
$radius-md: 8px;
$radius-lg: 12px;
$radius-xl: 16px;

// --- Shadows ---
$shadow-sm: 0 1px 3px rgba(0,0,0,0.4);
$shadow-md: 0 4px 16px rgba(0,0,0,0.5);
$shadow-lg: 0 8px 32px rgba(0,0,0,0.6);
$shadow-glow-primary: 0 0 20px rgba(79, 156, 249, 0.2);
$shadow-glow-accent:  0 0 20px rgba(126, 232, 162, 0.2);

// --- Transitions ---
$transition-fast:   all 0.15s ease;
$transition-base:   all 0.25s ease;
$transition-slow:   all 0.4s ease;

// --- Z-index ---
$z-base:    1;
$z-overlay: 100;
$z-modal:   200;
$z-toast:   300;
